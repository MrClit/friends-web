### Variables
@baseUrl = http://localhost:3000
@contentType = application/json

###############################################
# Events API Tests
###############################################

### Health Check
GET {{baseUrl}}/health

###############################################
# GET All Events
###############################################
GET {{baseUrl}}/api/events

###############################################
# CREATE Event
###############################################
# @name createEvent
POST {{baseUrl}}/api/events
Content-Type: {{contentType}}

{
  "title": "Cena en Barcelona",
  "participants": [
    {
      "id": "1",
      "name": "Alice"
    },
    {
      "id": "2",
      "name": "Bob"
    },
    {
      "id": "3",
      "name": "Charlie"
    }
  ]
}

###############################################
# GET Event by ID
###############################################
@eventId = 123e4567-e89b-12d3-a456-426614174000

GET {{baseUrl}}/api/events/{{eventId}}

###############################################
# UPDATE Event
###############################################
PATCH {{baseUrl}}/api/events/{{eventId}}
Content-Type: {{contentType}}

{
  "title": "Cena actualizada en Barcelona"
}

###############################################
# UPDATE Event Participants
###############################################
PATCH {{baseUrl}}/api/events/{{eventId}}
Content-Type: {{contentType}}

{
  "participants": [
    {
      "id": "1",
      "name": "Alice"
    },
    {
      "id": "4",
      "name": "David"
    }
  ]
}

###############################################
# DELETE Event
###############################################
DELETE {{baseUrl}}/api/events/{{eventId}}

###############################################
# Error Cases
###############################################

### GET Non-existent Event (404)
GET {{baseUrl}}/api/events/00000000-0000-0000-0000-000000000000

### GET Invalid UUID (400)
GET {{baseUrl}}/api/events/invalid-uuid

### CREATE Event without participants (400)
POST {{baseUrl}}/api/events
Content-Type: {{contentType}}

{
  "title": "Event sin participantes",
  "participants": []
}

### CREATE Event without title (400)
POST {{baseUrl}}/api/events
Content-Type: {{contentType}}

{
  "participants": [
    {
      "id": "1",
      "name": "Alice"
    }
  ]
}
